<div class="gallery">
	<div class="slider">
		<div class="slides">
			<img src="banner_01.jpg">
		</div>
		<div class="slides">
			<img src="banner_02.jpg">
		</div>
		<div class="slides">
			<img src="banner_03.jpg">
		</div>
	</div>

	<div class="box">
		<span></span>
		<span></span>
		<span></span>
	</div>

	<div class="leftbox">
		<img src="left.png">
	</div>
	<div class="rightbox">
		<img src="right.png">
	</div>
</div>


<style type="text/css">
	.gallery{width: 1200px;height:400px;/*border :3px solid*/;margin: 0 auto;position: relative;overflow: hidden;}
	.slider{width: 1200px;height: 400px;/*border:3px solid red;*/margin-left:0;}
	.slides{width: 1200px;height: 400px;float: left;}
	.slides .img{width: 1200px;height:400px;}
	.box{width: 1200px;/*background: rgba(0,0,0,0.5);*/position: absolute;left: 0;bottom: 10px;text-align: center;}
	.box span{display: inline-block;width: 50px;height: 10px;background: #aaa;cursor: pointer;}
	.redclass{background: #900;}
	.grayclass{background:#aaa;}
	.leftbox{width:64px;height:64px;position:absolute;left:2%;top:45%;cursor:pointer;display: none;}
	.rightbox{width:48px;height:48px;position:absolute;right:2%;top:45%;cursor:pointer;}
</style>

<script type="text/javascript" src="jquery-3.3.1.min.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		curpos=0;
		$(".box span:first").css("background","#900")
			//alert($(".slides").width())
			//alert($(".slides").length)
			//alert($(".slides").width() * $(".slides").length)
			$(".slider").width($(".slides").width() * $(".slides").length)
			$(".box span").click(function(){
				var pos = $(this).index();
				//alert(pos);
				curpos=pos;
				maxpos=curpos-1;
				$(".slider").animate({"margin-left":-(pos * $(".slides").width())+"px"},500)
				$(".box span").css("background","#aaa")
				$(this).css("background","#900")
				if(curpos>0)
				{
					$(".leftbox").fadeIn()
				}
				else
				{
					$(".leftbox").fadeOut()
				}
				if(maxpos<=0)
				{
					$(".rightbox").fadeIn()
				}
				else
				{
					$(".rightbox").fadeOut()
				}
			});
			$(".leftbox").click(function(){
				curpos--;
				maxpos=curpos-1;
				$(".slider").animate({
					"margin-left":-(curpos*$(".slides").width())+"px"
				},500)
				if(curpos>0)
				{
				 	$(".leftbox").fadeIn()
				}
				else
				{
					$(".leftbox").fadeOut()
				}
				if(maxpos<=0)
				{
					$(".rightbox").fadeIn()
				}
				else
				{
					$(".rightbox").fadeOut()
				}
				$(".box span").css("background","#aaa")
				$(".box span").eq(curpos).css("background","#900")
			})
			$(".rightbox").click(function(){
				curpos++;
				maxpos=curpos-1;
				$(".slider").animate({
					"margin-left":-(curpos*$(".slides").width())+"px"
				},500)
				if(curpos>0)
				{
				 	$(".leftbox").fadeIn()
				}
				else
				{
					$(".leftbox").fadeOut()
				}
				if(maxpos<=0)
				{
					$(".rightbox").fadeIn()
				}
				else
				{
					$(".rightbox").fadeOut()
				}
				$(".box span").css("background","#aaa")
				$(".box span").eq(curpos).css("background","#900")
			})
	})
